<!DOCTYPE html>
<html lang="it">
<head>
    <!-- Definizione del set di caratteri e compatibilità per la visualizzazione sui dispositivi mobili -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Titolo della pagina -->
   <!-- includo bootstrap 5.3.3 compreso jquery per navbar espandibile su schermi piccoli-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

   <!-- includo stylesheet personali suddivisi per sezione 
    index.css: utilizzato per la sezione generale di tutta la pagina
    articoli.css: utilizzato per sezione dei temi principali presenti nella pagina
    timeline.css: utilizzato per la sezione che elenca i reports di sostenibilità -->
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/timeline.css">
    <link rel="stylesheet" href="css/articoli.css">

</head>
<body >

<!-- Header della pagina con menu di navigazione -->
<header  style="width: 100%;" >
    <title>Sviluppo di una pagina web per il download dei report di sostenibilità di un’impresa del settore terziario</title> 
    <!-- Barra superiore con messaggio informativo -->
    <!-- Menu con logo dell'azienda e link di navigazione e messaggio informativo sul project work-->
    <!-- il menù principale o navbar è fissato in alto nellapagina sia su dispositivi desktop che su dispositivi mobili.-->
    <!-- Nei dispositivi mobili le voci di menù collassano automaticamente su un menu a tendina .-->
    <!-- Questa funzionalità è oofferta dal controllo navbar della libreria Bootstrap .-->
    <nav class="navbar navbar-expand-lg  fixed-top " style="background-color: green">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="immagini/logo.jpg" width="150px" height="30px" alt="logo Intesa San Paolo">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#principale" >Progetti</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="#bilanci" >Dichiarazioni di Sotenibilità</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="container-fluid" style="color:white">
        Sviluppo di una pagina web per il download dei report di sostenibilità di un’impresa del settore terziario
        </div>
    </nav>
</header>
<!-- da qui in poi iniziano le sezioni che riportatno dei messaggi con immagini significativi-->
<!-- Le quattro sezioni individuate sono le seguenti: Ambiente, Impegno, Obiettivi, Reports-->
<!-- L'ultima sezione riporta i reports di sostenibilità-->
<!-- in questa ultima sezione l'elenco dei bilanci dal 2018 al 2023 viene generato dinamicamente -->

<br>
<br>
<div class="principale container " style="width: 80%;" id="principale">
<br>
<br>
<br>
<br>
<h1>DICHIARAZIONE DI SOSTENIBILITA NON FINANZIARIA</h1>
<p>Lo strumento per conoscere in modo semplice e immediato i principali progetti e risultati di sostenibilità del Gruppo, rendicontati nella Dichiarazione Consolidata Non Finanziaria</p>
La rendicontazione non finanziaria e di sostenibilità si focalizza su aspetti rilevanti che riflettono gli impatti,
    positivi o negativi, effettivi o potenziali, generati dalle attività del Gruppo Intesa Sanpaolo sull’economia,
    l’ambiente e le persone, compresi gli impatti sui loro diritti umani, capaci di influenzare in maniera significativa
    la percezione dei propri Stakeholder. 
<section class="container content-section " id="contenutiESG"  >
</section>
        </div>
        <div id="bilanci" class="container  content-section content ">
            <br>
            <br>
            <br>
            <div >
                <br>
                <h3 class="w-100 text-center">Le nostre Dichiarazioni Consolidate Non Finanziarie</h3>
                <br>
                <p>
                    Il documento annuale che rendiconta le performance del Gruppo in ambito ESG (Environmental, Social and Governance) secondo i principali standard internazionali. 
                </p>
                <!-- I bilanci verranno generati dinamicamente qui -->
            <div class="timeline" id="reporttime">
            </div>
        </div>
        </div>
</div>
<footer style="width: 100%;">
    <div class="container">
        <row>
            <small>
                <em>"Lo sviluppo sostenibile è in grado di soddisfare i bisogni delle generazioni attuali 
                    senza compromettere la possibilità che le generazioni future riescano a soddisfare i propri" 
                    <br> (Gro Harlem Brundtland, 1987).
                </em>
            </small>
        </row>
    </div>
    <br>

</footer>

</body>

<!-- il file frasi contiene il testo da presentare accanto a ciascun libk al bilancio annuale-->
<script src="./bilanci/frasi.js"></script>
<script src="./bilanci/contenuti.js"></script>
<script>
  
// Funzione per generare dinamicamente la griglia dei bilanci
// intervallo di tempo dal 2018 2023
//viene creato dinamicamente il link al bilancio di ciascun anno e accanto un testo che lo identifica.
function generateBilanciTimeline(dati) {
    
    const bilanciContainer = document.getElementById("reporttime"); // Il contenitore principale per i bilanci

    // Anni dei bilanci da generare (dal 2000 al 2023)
    // creaiamo un vettore anni con l'intervallo 2018 2023
    const anni = [];
    for (let i = 2023; i >= 2018; i--) {
        anni.push(i); // aggiunge un elemento all'array
    }

    // Aggiungiamo gli elementi dinamicamente attrverso un CICLO foreach sull'intervallo di anni appena creato
    anni.forEach((anno, index) => {
        // in questa funzione creaimo dinamicamente la sezione dei bilanci/report di sostenibilità
        //utilizziamo per questa sezione il file di sitle timeline.css
        // Creiamo un elemento div e aggiungiamo la classe TContainer del file timeline.css
        console.log(anno)
        const Tcontainer = document.createElement("div");
        Tcontainer.classList.add("Tcontainer");
        console.log(anno % 2)
        // stabiliamo se il container deve essere posto a destra oppure a sinistra
        // aggiungendo la classe left oppure la classe rigth
        // grazie alle media queries di css,in uno schemro per smartphone verranno 
        // comunque scritti uno sotto l'altro
        if ((anno % 2) > 0) {
            Tcontainer.classList.add("left");
        }
        else {
            Tcontainer.classList.add("right");
        }
        // aggiungiamo un div per il content che conterrà il link e il testo del report
        const Tcontent = document.createElement("div");
        Tcontent.classList.add("content")
        // aggiungiamo un div per il link al report e lo appendiamo al contenitore
        const Treport = document.createElement("div");
        const link = document.createElement("a");
        link.href = `bilanci/${anno}.pdf`;
        //link.href = `bilanci/2022.pdf`;
        //link.classList.add("link");
        link.innerHTML = `<h1>${anno}</h1>`;
        Tcontent.appendChild(link)
        //aggiungiamo un testo in corsivo (em) per il testo e lo appendiamo al contenitore
        const par = document.createElement("em");
        //console.log(dati)
        //leggiamo il testo corrispondente all'anno 
        par.textContent = dati[index].testo == undefined ? "nessun testo" : dati[index].testo
        Tcontent.appendChild(par)
        //colleghiamo i div appena creati
        Tcontent.appendChild(Treport)
        Tcontainer.appendChild(Tcontent)

        // Aggiungiamo l'item alla griglia
        bilanciContainer.appendChild(Tcontainer);

    });
}
function creaSezioni(dati) {
    let html = '';
    html += `
        <article class="container mt-5 mb-5 content-section" id="progetti">
            <h2 class="w-100 text-center">I NOSTRI PROGETTI</h2>
        </article>
        `
    dati.forEach(dato => {
        html += `
        <section class="container mt-5 mb-5 content-section" id="${dato.titolo}">
         
            
                   <br>
                <div class="row">
                    <div class="col-lg-6">
                        <img src="${dato.immagine}" style="width:100%; border-radius:10px 10px 10px 10px;" alt="${dato.altimg}">
                    </div>
                    <div class="col-sm">
                        <br><br><br>
                        <h2 class="w-100 text-center">${dato.titolo}</h2>
                    </div>
                </div>
                <br>
                <div class="row">
                    <article>
                        ${dato.testo}
                    </article>
                </div>
            
            <footer style="width: 100%; background-color: white">
                <img src="${dato.imgfooter}"  alt="${dato.altimgfooter}" >
                <hr>
            </footer>
        </section>
        `;
    });

    // Aggiungi il contenuto generato al  contenitore specifico
    const selectedSection = document.getElementById("contenutiESG");
    selectedSection.innerHTML = html;
}
// Chiamata dellae funzioni da eseguire 

// chiamo la funzione creaSezioni per creare le sezioni centrali con i contenuti.
// i dati da presentare nella sezione sono passati come parametro attraverso la variabile
// lContenuti che è dichiarata all'interno del file /bilanci/contenuti.js
creaSezioni(lContenuti);
// chiamo la funzione generateBilanciTimeline per creare le sezioni centrali con i contenuti.
// i dati da presentare nella sezione sono passati come parametro attraverso la variabile
// lContenuti che è dichiarata all'interno del file /bilanci/frasi.js
generateBilanciTimeline(lFrasi);
</script>    
</html>
